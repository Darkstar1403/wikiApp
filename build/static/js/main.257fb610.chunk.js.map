{"version":3,"sources":["components/firebase/firebase-config.js","types/types.js","actions/ui.js","helpers/fileUpload.js","helpers/loadNotes.js","actions/notes.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","routers/PublicRoute.js","routers/PrivateRoute.js","assets/logo.png","components/ui/Navbar.js","components/wiki/CrearArticulo.js","components/wiki/DetalleArticulo.js","components/wiki/Articulo.js","components/wiki/HomeScreen.js","components/wiki/ModificarArticulo.js","routers/DashboardRoutes.js","routers/AppRouter.js","reducers/uiReducer.js","reducers/notesReducer.js","store/store.js","reducers/authReducer.js","JournalApp.js","index.js"],"names":["db","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getFirestore","googleAuthProvider","GoogleAuthProvider","types","removeError","type","startLoading","finishLoading","fileUpload","file","a","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","loadNotes","refDoc","collection","q","query","orderBy","getDocs","docsSnap","notes","forEach","snapChild","push","id","data","loadNote","doc","getDoc","Swal","fire","activeNote","note","payload","unsetActiveNote","startLoadingNotes","dispatch","console","log","setNotes","startUploading","getState","active","article","title","text","allowOutsideClick","showConfirmButton","willOpen","showLoading","fileUrl","img","close","login","uid","displayName","admin","logout","useForm","initialState","useState","form","setForm","reset","newFormState","handleInputChange","target","name","value","LoginScreen","loading","useSelector","state","ui","useDispatch","email","password","formValues","isFormValid","test","className","onSubmit","e","preventDefault","auth","getAuth","signInWithEmailAndPassword","then","user","photoURL","catch","message","startLoginEmailPassword","placeholder","onChange","disabled","onClick","signInWithPopup","src","alt","to","RegisterScreen","setAdmin","msgError","passwordConfirm","trim","url","createUserWithEmailAndPassword","updateProfile","startRegister","checked","AuthRouter","exact","path","component","PublicRoute","isAuthenticated","Component","rest","props","PrivateRoute","Navbar","history","useHistory","location","useLocation","queryString","parse","search","articles","logo","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","href","class","tabindex","aria-disabled","aria-current","signOut","autoComplete","newArticles","filter","s","titulo","toLowerCase","includes","CrearArticulo","desc","useEffect","style","minHeight","display","files","document","querySelector","click","color","marginLeft","addDoc","docRef","setTimeout","replace","DetalleArticulo","useParams","loadActiveNote","Articulo","HomeScreen","length","map","artic","ModificarArticulo","noteToFirestore","updateDoc","DashboardRoutes","pathname","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","height","width","role","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","store","createStore","applyMiddleware","thunk","WikiApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.257fb610.chunk.js","sourcesContent":["import 'firebase/firestore';\r\nimport 'firebase/auth';\r\n// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { GoogleAuthProvider } from 'firebase/auth';\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: 'AIzaSyCAvy8B9kIoSOA4Nq2ZdtMI0Yab8oMKLuY',\r\n  authDomain: 'wikiappdark.firebaseapp.com',\r\n  projectId: 'wikiappdark',\r\n  storageBucket: 'wikiappdark.appspot.com',\r\n  messagingSenderId: '622363828740',\r\n  appId: '1:622363828740:web:28cfeddc7e7efc7a704b51'\r\n};\r\n\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\n\r\nconst db = getFirestore();\r\n\r\nconst googleAuthProvider = new GoogleAuthProvider();\r\n\r\nexport{\r\n    db,\r\n    googleAuthProvider\r\n}","export const types ={\r\n    login: '[Auth] Login',\r\n    logout: '[Auth] Logout',\r\n\r\n    uiSetError: '[UI] Set Error',\r\n    uiRemoveError: '[UI] Remove Error',\r\n\r\n    uiStartLoading: '[UI] Start loading',\r\n    uiFinishLoading: '[UI] Finish loading',\r\n\r\n    articleAddNew: '[Article] New article',\r\n    articleActive: '[Article] Set active article',\r\n    articleUnsetActive: '[Article] Unset active article',\r\n    articleLoad: '[Article] Load articles',\r\n    articleUpdated: '[Article] Updated article saved',\r\n    articleFileUrl: '[Article] Updated image url',\r\n    articleDelete: '[Article] Delete article',\r\n    articleLogout: '[Article] Logout Cleaning'\r\n}","import { types } from \"../types/types\";\r\n\r\nexport const setError = (error) =>({\r\n    type: types.uiSetError,\r\n    payload: error\r\n});\r\n\r\nexport const removeError = () =>({\r\n    type: types.uiRemoveError\r\n});\r\n\r\nexport const startLoading = () =>({\r\n    type: types.uiStartLoading\r\n});\r\n\r\nexport const finishLoading = () =>({\r\n    type: types.uiFinishLoading\r\n});","export const fileUpload = async(file) =>{\r\n\r\n    const cloudUrl = '\thttps://api.cloudinary.com/v1_1/universidad-de-guadalajara/upload';\r\n    const formData = new FormData();\r\n    formData.append('upload_preset', 'react-journal');\r\n    formData.append('file', file);\r\n\r\n    try{\r\n        const resp = await fetch(cloudUrl, {method: 'POST', body: formData});\r\n        if(resp.ok){\r\n            const cloudResp = await resp.json();\r\n            return cloudResp.secure_url;\r\n        }\r\n        else{\r\n            //throw await resp.json(); esto se hizo para que fueran sencillas las pruebas\r\n            return null\r\n        }\r\n    }\r\n    catch(error){\r\n        throw error;\r\n    }\r\n}","import { doc ,getDoc ,getDocs, collection, orderBy, query } from \"firebase/firestore\"\r\nimport Swal from \"sweetalert2\";\r\nimport { db } from \"../components/firebase/firebase-config\"\r\n\r\nexport const loadNotes = async() =>{\r\n    const refDoc = collection(db, `/articles`);\r\n    const q = query(refDoc, orderBy('titulo', 'desc'))\r\n    const docsSnap = await getDocs(q);\r\n    const notes =[];\r\n\r\n    docsSnap.forEach(snapChild =>{\r\n        notes.push({\r\n            id: snapChild.id,\r\n            ...snapChild.data()\r\n        })\r\n    });\r\n    return notes\r\n}\r\n\r\nexport const loadNote = async(id) =>{\r\n    try {\r\n        const refDoc = doc(db, `/articles/${id}`);\r\n        const docsSnap = await getDoc(refDoc);\r\n    \r\n        return ({\r\n            id:docsSnap.id,\r\n            ...docsSnap.data()\r\n        })\r\n    } catch (error) {\r\n        Swal.fire('Error', 'Error al cargar el articulo', 'error')\r\n    }\r\n\r\n}","import { addDoc, collection, updateDoc, doc, deleteDoc } from \"firebase/firestore\";\r\nimport Swal from \"sweetalert2\";\r\nimport { db } from \"../components/firebase/firebase-config\";\r\nimport { fileUpload } from \"../helpers/fileUpload\";\r\nimport { loadNotes, loadNote } from \"../helpers/loadNotes\";\r\nimport { types } from \"../types/types\";\r\n\r\nexport const startNewNote = () =>{\r\n    return async(dispatch, getState) =>{\r\n        try{\r\n            const {uid} = getState().auth;\r\n            const newNote = {\r\n                title: '',\r\n                body: '',\r\n                date: new Date().getTime()\r\n            }\r\n            \r\n            const docRef = await addDoc(collection(db, `${uid}/journal/notes`),newNote);\r\n            dispatch(activeNote(docRef.id, newNote));\r\n            dispatch(addNewNotes(docRef.id, newNote));\r\n        }\r\n        catch(error){\r\n            Swal.fire('Error', 'Registrar nuevo articulo error', 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const loadActiveNote = (id) =>{\r\n    return async(dispatch) =>{\r\n        try {\r\n            const note = await loadNote(id);\r\n            dispatch(activeNote(note));\r\n            console.log(note);\r\n        } catch (error) {\r\n            Swal.fire('Error', 'Error al cargar el articulo', 'error');\r\n        }\r\n    }\r\n}\r\n\r\nexport const activeNote = (note) => ({\r\n    type: types.articleActive,\r\n    payload: {\r\n        ...note\r\n    }\r\n});\r\n\r\nexport const unsetActiveNote = () => ({type: types.articleUnsetActive});\r\n\r\nexport const addNewNotes = (id, note) =>({\r\n    type:types.articleAddNew,\r\n    payload:{\r\n        id,\r\n        ...note\r\n    }\r\n})\r\n\r\nexport const startLoadingNotes = () =>{\r\n    return async(dispatch) =>{\r\n        try{\r\n            const notes = await loadNotes();\r\n            console.log(notes);\r\n            dispatch(setNotes(notes));\r\n        }\r\n        catch(error){\r\n            Swal.fire('Error', 'La carga de los articulos falló', 'error');\r\n        }\r\n    }\r\n}\r\n\r\nexport const setNotes = (notes) =>({\r\n    type: types.articleLoad,\r\n    payload: notes\r\n});\r\n\r\nexport const startSaveNote = (note) =>{\r\n    return async() =>{\r\n        try{\r\n            if(!note.img){\r\n                delete note.img;\r\n            }\r\n            const noteToFirestore = {...note};\r\n            //asi es como eliminas una llave de un objeto\r\n            delete noteToFirestore.id;\r\n            const docRef = await addDoc(collection(db, `/articles`),note);\r\n            console.log(docRef);\r\n            Swal.fire('Articulo agregado', note.title, 'success')\r\n        }\r\n        catch(error){\r\n            Swal.fire('Error', 'Error al guardar el articulo', 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const startUpdateNote = (note) =>{\r\n    return async(dispatch) =>{\r\n        try{\r\n            if(!note.img){\r\n                delete note.img;\r\n            }\r\n            const noteToFirestore = {...note};\r\n            //asi es como eliminas una llave de un objeto\r\n            delete noteToFirestore.id;\r\n            const refDoc = doc(db, `/articles/${note.id}`);\r\n            await updateDoc(refDoc, noteToFirestore);\r\n            Swal.fire('Se ha modificado', note.title, 'success');\r\n            dispatch(activeNote(note));\r\n        }\r\n        catch(error){\r\n            Swal.fire('Error', 'Saving note failed', 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const refreshNote = (id, note) =>({\r\n    type: types.articleUpdated,\r\n    payload : {\r\n        id, \r\n        note: {\r\n            id,\r\n            ...note\r\n        }\r\n    }\r\n});\r\n//todos los actions start se refieren a tareas asincronas\r\nexport const startUploading = (file) =>{\r\n    return async(dispatch, getState) =>{\r\n        const {active} = getState().article;\r\n        Swal.fire({\r\n            title: 'Uploading...',\r\n            text: 'Please wait...',\r\n            allowOutsideClick: false,\r\n            showConfirmButton: false,\r\n            willOpen: () =>{\r\n                Swal.showLoading();\r\n            }\r\n        });\r\n        const fileUrl = await fileUpload(file);\r\n        active.img = fileUrl;\r\n\r\n        dispatch(activeNote(active))\r\n\r\n        Swal.close();\r\n    }\r\n}\r\n\r\nexport const startDeleting = (id) =>{\r\n    return async(dispatch, getState) =>{\r\n        try{\r\n            const {uid} = getState().auth;\r\n            const refDoc = doc(db, `/${uid}/journal/notes/${id}`);\r\n            await deleteDoc(refDoc);\r\n            dispatch(deleteNote(id));\r\n            Swal.fire('Deleted', 'Eliminado correctamente', 'success')\r\n        }\r\n        catch(error){\r\n            Swal.fire('Error', 'Error al eliminar el articulo', 'error');\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport const deleteNote = (id) => ({\r\n    type: types.articleDelete,\r\n    payload: id\r\n});\r\n\r\nexport const noteLogout = () =>({\r\n    type:types.articleLogout\r\n});","import Swal from 'sweetalert2';\r\nimport { createUserWithEmailAndPassword, getAuth, signInWithEmailAndPassword, signInWithPopup, signOut, updateProfile } from 'firebase/auth';\r\nimport { googleAuthProvider } from '../components/firebase/firebase-config';\r\nimport {types} from '../types/types';\r\nimport { finishLoading, startLoading } from './ui';\r\nimport { noteLogout } from './notes';\r\n\r\nexport const startLoginEmailPassword = (email, password) =>{\r\n    return (dispatch) =>{\r\n        dispatch(startLoading());\r\n        const auth = getAuth();\r\n        return signInWithEmailAndPassword(auth, email, password)\r\n        .then(({user})=>{\r\n            if(user.photoURL){\r\n                console.log(user.photoURL);\r\n            }\r\n            (user.photoURL)?dispatch(login(user.uid, user.displayName, true)):dispatch(login(user.uid, user.displayName));\r\n            dispatch(finishLoading());\r\n            Swal.fire(\r\n                \"Has ingresado a la mejor wiki\",\r\n                'Presionaste el botón',\r\n                'success'\r\n              );\r\n        }).catch(e =>{\r\n            console.log(e);\r\n            dispatch(finishLoading());\r\n            Swal.fire('Error', e.message, 'error');\r\n        });\r\n        \r\n    }\r\n}\r\n\r\nexport const  startRegister = (email, password, name, admin) =>{\r\n    return (dispatch) =>{\r\n        dispatch(startLoading());\r\n        const auth = getAuth();\r\n        let url = null;\r\n        if(admin){\r\n            url = 'admin'\r\n        }\r\n        createUserWithEmailAndPassword(auth, email, password).then(async ({user})=>{\r\n            await updateProfile(user, {displayName:name, photoURL: url});\r\n            dispatch(login(user.uid, user.displayName, (url)?true:false));\r\n            dispatch(finishLoading());\r\n            Swal.fire(\r\n                \"Te has registrado en la mejor wiki\",\r\n                'Presionaste el botón',\r\n                'success'\r\n              );\r\n        }).catch(e =>{\r\n            console.log(e);\r\n            dispatch(finishLoading());\r\n            Swal.fire('Error', e.message, 'error');\r\n        })\r\n        \r\n    }\r\n}\r\n\r\nexport const startGoogleLogin = () =>{\r\n    return (dispatch) =>{\r\n        dispatch(startLoading());\r\n        const auth = getAuth();\r\n        signInWithPopup(auth, googleAuthProvider)\r\n            .then(({user}) =>{\r\n                dispatch(login(user.uid, user.displayName))\r\n            }).catch(e => console.log(e));\r\n            dispatch(finishLoading());\r\n        \r\n    }\r\n}\r\n\r\nexport const login = (uid, displayName, admin = false) =>(\r\n    {\r\n        type:types.login,\r\n        payload: {\r\n            uid,\r\n            displayName,\r\n            admin\r\n        }\r\n    }\r\n)\r\n\r\nexport const startLogout = () =>{\r\n    return async(dispatch) =>{\r\n        const auth = getAuth();\r\n       await signOut(auth);\r\n       dispatch(logout());\r\n       dispatch(noteLogout());\r\n    }\r\n}\r\n\r\nexport const logout = () =>({\r\n    type:types.logout\r\n})","import  {useState} from 'react'\r\n\r\nexport const useForm = (initialState={}) => {\r\n    \r\n    const [form, setForm] = useState(initialState)\r\n\r\n    const reset = (newFormState=initialState) =>{\r\n        setForm(newFormState);\r\n    }\r\n\r\n    const handleInputChange = ({target}) =>{\r\n        setForm({\r\n            ...form,\r\n            [target.name]: target.value\r\n        });\r\n    }\r\n    \r\n    return [form, handleInputChange, reset];\r\n}","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { startGoogleLogin, startLoginEmailPassword } from \"../../actions/auth\";\r\nimport { removeError } from \"../../actions/ui\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\n\r\nexport const LoginScreen = () => {\r\n\r\n  const { loading} = useSelector(state => state.ui);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [formValues, handleInputChange] = useForm({email: '', password: ''})\r\n\r\n  const {email, password} = formValues;\r\n\r\n  const handleLogin = (e) =>{\r\n      e.preventDefault();\r\n      if(isFormValid()){\r\n        dispatch(startLoginEmailPassword(email, password));\r\n      }\r\n  }\r\n\r\n  const handleGoogleLogin = () =>{\r\n    dispatch(startGoogleLogin());\r\n  }\r\n\r\n  const isFormValid = () =>{\r\n    if(!/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)+$/.test(email)){\r\n      Swal.fire('Error', 'Email is not valid', 'error');\r\n      return false;\r\n    }\r\n    else if(!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(password)){\r\n      Swal.fire('Error', 'Password is not valid', 'error');\r\n      return false\r\n    }\r\n    dispatch(removeError());\r\n    return true;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h3 className='auth__title'>Login</h3>\r\n      <form onSubmit={handleLogin} className='animate__animated animate__fadeIn animate__faster'>\r\n        {/*msgError && (<div className='auth__alert-error'>{msgError}</div>)*/}\r\n        <input className='auth__input' type=\"email\" placeholder=\"Email\" name=\"email\" value={email} onChange={handleInputChange}/>\r\n        <input className='auth__input' type=\"password\" placeholder=\"Password\" name=\"password\" value={password} onChange={handleInputChange}/>\r\n        <button disabled={loading} className='btn btn-primary btn-block' type=\"submit\">Login</button>\r\n        <div className='auth__social-networks'>\r\n          <p>Ingresar con redes sociales</p>\r\n          <div \r\n              className=\"google-btn\"\r\n              onClick={handleGoogleLogin}\r\n              \r\n          >\r\n              <div className=\"google-icon-wrapper\">\r\n                  <img className=\"google-icon\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"google button\" />\r\n              </div>\r\n              <p className=\"btn-text\">\r\n                  <b>Ingresar Google</b>\r\n              </p>\r\n          </div>\r\n        </div>\r\n        <Link className='link' to='/auth/register'>\r\n          Crear una cuenta nueva\r\n        </Link>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Swal from \"sweetalert2\";\r\nimport { startRegister } from \"../../actions/auth\";\r\nimport { removeError } from \"../../actions/ui\";\r\nimport { useForm } from \"../../hooks/useForm\";\r\n\r\n\r\n\r\nexport const RegisterScreen = () => {\r\n\r\n  const dispatch = useDispatch();\r\n//useSelector te trae información en tiempo real del state de\r\n//todos tus reducers de la aplicación\r\n\r\n  const [admin, setAdmin] = useState(false);\r\n\r\n  const {msgError, loading} = useSelector(state => state.ui);\r\n\r\n  const [formValues, handleInputChange] = useForm({name:'', email:'', password:'', passwordConfirm:''})\r\n  \r\n  const {name, email, password, passwordConfirm} = formValues;\r\n\r\n  const handleRegister = (e) =>{\r\n    e.preventDefault();\r\n    if(isFormValid()){\r\n      dispatch(startRegister(email, password, name, admin))\r\n    }\r\n  }\r\n\r\n  const isFormValid = () =>{\r\n    if(!/^[a-zA-Z]\\w*$/.test(name.trim())){\r\n      Swal.fire('Error', 'El nombre solo tiene una palabra', 'error');\r\n      return false;\r\n    }\r\n    else if(!/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)+$/.test(email)){\r\n      Swal.fire('Error', 'Email no valido', 'error');\r\n      return false;\r\n    }\r\n    else if(!/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/.test(password)){\r\n      Swal.fire('Error', 'Contraseña incorrecta', 'error');\r\n      return false\r\n    }\r\n    else if(password !== passwordConfirm){\r\n      Swal.fire('Error', 'Las contraseñas no concuerdan', 'error');\r\n      return false;\r\n    }\r\n    dispatch(removeError());\r\n    return true;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h3 className='auth__title'>Registro</h3>\r\n      <form onSubmit={handleRegister} className='animate__animated animate__fadeIn animate__faster'>\r\n        {msgError && (<div className='auth__alert-error'>\r\n          {msgError}\r\n        </div>)}\r\n        <input className='auth__input' type=\"text\" placeholder=\"Nombre\" name=\"name\" value={name} onChange={handleInputChange} />\r\n        <input className='auth__input' type=\"email\" placeholder=\"Email\" name=\"email\" value={email} onChange={handleInputChange}/>\r\n        <input className='auth__input' type=\"password\" placeholder=\"Contraseña\" name=\"password\" value={password} onChange={handleInputChange}/>\r\n        <input className='auth__input' type=\"password\" placeholder=\"Confirmación de Contraseña\" name=\"passwordConfirm\" value={passwordConfirm} onChange={handleInputChange}/>\r\n        <input className='me-3' type=\"checkbox\" checked={admin} onChange={()=>{console.log(admin); setAdmin(a=>!a)}} />\r\n        Administrador\r\n        <button disabled={loading} className='btn btn-primary btn-block mb-5 mt-3' type=\"submit\">Registrar</button>\r\n        <Link className='link' to='/auth/login'>\r\n          ¿Ya estas registrado?\r\n        </Link>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\r\nimport { RegisterScreen } from \"../components/auth/RegisterScreen\";\r\n\r\nexport const AuthRouter = () => {\r\n  return (\r\n    <div className=\"auth__main\">\r\n      {\r\n        //el auth__clase se refiere a que esta en el archivo auth de scss}\r\n      }\r\n      <div className=\"auth__box-container\">\r\n        <Switch>\r\n          <Route exact path=\"/auth/login\" component={LoginScreen} />\r\n          <Route exact path=\"/auth/register\" component={RegisterScreen} />\r\n          <Redirect to=\"/auth/login\" />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport const PublicRoute = ({\r\n  isAuthenticated,\r\n  component: Component,\r\n  ...rest\r\n}) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      component={(props) =>\r\n        isAuthenticated ? <Redirect to=\"/\"/> :  <Component {...props}  />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nPublicRoute.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  component: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport const PrivateRoute = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n\r\n    return (\r\n        <Route { ...rest }\r\n            component={ (props) => (\r\n                ( isAuthenticated )\r\n                    ? ( <Component { ...props } /> )\r\n                    : ( <Redirect to=\"/auth/login\" /> )\r\n            )}\r\n        \r\n        />\r\n    )\r\n}\r\n\r\nPrivateRoute.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    component: PropTypes.func.isRequired\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.8c10001c.png\";","import React, { useEffect } from \"react\";\r\nimport queryString from \"query-string\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory, useLocation } from \"react-router\";\r\nimport logo from \"../../assets/logo.png\"\r\nimport { useForm } from \"../../hooks/useForm\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { startLogout } from \"../../actions/auth\";\r\nimport { setNotes, startLoadingNotes } from \"../../actions/notes\";\r\nimport { loadNotes } from \"../../helpers/loadNotes\";\r\n\r\n\r\nexport const Navbar = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  \r\n\r\n  const { q = \"\" } = queryString.parse(location.search);\r\n\r\n  const [{ search }, handleInputChange] = useForm({ search: q });\r\n\r\n  const {name, admin} = useSelector(state => state.auth);\r\n  const  activeNote = useSelector(state => state.article.active)\r\n\r\n  const articles = useSelector(state => state.article.notes );\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    history.push(`?q=${search}`);\r\n    const newArticles = articles.filter(s => s.titulo.toLowerCase().includes(search.toLowerCase()) );\r\n    dispatch(setNotes(newArticles));\r\n  }\r\n\r\n\r\n\r\n  const handleLogout = (e) =>{\r\n    dispatch(startLogout());\r\n  };\r\n  return (\r\n    <div>\r\n      <nav className=\"navbar width-100 navbar-expand-lg navbar-dark bg-dark\">\r\n        <div className=\"container-fluid\">\r\n          <Link className=\"navbar-brand\" to=\"/home\" onClick={()=>dispatch(startLoadingNotes())}>\r\n            <img className=\"Logo\" src={logo} alt=\"Logo udg virtual\"/>\r\n          </Link>\r\n          <button\r\n            className=\"navbar-toggler\"\r\n            type=\"button\"\r\n            data-bs-toggle=\"collapse\"\r\n            data-bs-target=\"#navbarSupportedContent\"\r\n            aria-controls=\"navbarSupportedContent\"\r\n            aria-expanded=\"false\"\r\n            aria-label=\"Toggle navigation\"\r\n          >\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n            <ul className=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n              {admin && (\r\n                <>\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" to={'/article/new'}>\r\n                      Agregar articulo\r\n                    </Link>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <Link className=\"nav-link\" href=\"https://www.google.com/\">\r\n                      Gestionar peticiones\r\n                    </Link>\r\n                  </li>\r\n                </>\r\n                )}\r\n              <li class=\"nav-item\">\r\n                <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">{name}</a>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  className=\"nav-link active\"\r\n                  aria-current=\"page\"\r\n                  to='/auth/login'\r\n                  onClick={handleLogout}\r\n                >\r\n                  Salir\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n            {!activeNote && (\r\n              <form className=\"d-flex\" >\r\n              <input\r\n                className=\"form-control me-2\"\r\n                type=\"search\"\r\n                placeholder=\"Buscar articulo\"\r\n                aria-label=\"Search\"\r\n                value={search}\r\n                onChange={handleInputChange}\r\n                name=\"search\"\r\n                autoComplete=\"off\"\r\n              />\r\n              <button className=\"btn color text-white boton-azul\" type=\"submit\" onClick={handleSearch}>\r\n                Buscar\r\n              </button>\r\n            </form>\r\n            )}\r\n          \r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { activeNote, startLoadingNotes, startSaveNote, startUploading, unsetActiveNote } from '../../actions/notes';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nexport const CrearArticulo = ({history}) => {\r\n    \r\n    const dispatch = useDispatch();\r\n    const {active} = useSelector(state => state.article);\r\n    const [formValues, handleInputChange, reset] = useForm({\r\n        titulo:'',\r\n        desc: '',\r\n        img: ''\r\n    }); \r\n    const {titulo, desc} = formValues;\r\n\r\n    useEffect(() => {\r\n        if(active){\r\n            console.log('ya hay activa')\r\n            dispatch(unsetActiveNote());\r\n            reset();\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        (active?.img)?dispatch(activeNote({...formValues, img:active.img})):dispatch(activeNote({...formValues}));\r\n    }, [formValues, dispatch]);\r\n\r\n    const handlePictureUploud = () =>{\r\n        document.querySelector('#fileSelector').click();\r\n    }\r\n\r\n    const handleFileChange = (e) =>{\r\n        const file = e.target.files[0];\r\n        if (file){\r\n            dispatch(startUploading(file));\r\n        }\r\n    }\r\n\r\n    const handleSave = () =>{\r\n        dispatch(startSaveNote(active));\r\n        setTimeout(() => {\r\n            history.replace('/home');\r\n            dispatch(startLoadingNotes());\r\n        }, 1000);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <input\r\n                type='text'\r\n                placeholder='Titulo del articulo'\r\n                className='form-control mb-3'\r\n                autoComplete='off'\r\n                value={titulo}\r\n                onChange={handleInputChange}\r\n                name='titulo'\r\n            />\r\n            <textarea placeholder='Descripción'\r\n            className='form-control' value={desc}\r\n            onChange={handleInputChange}\r\n            style={{minHeight:200}}\r\n            name='desc'>\r\n            </textarea>\r\n            <div className='mt-1 row align-items-center'>\r\n                <input name='file' id='fileSelector' type='file' style={{display: 'none'}} onChange={handleFileChange}/>\r\n                <div class=\"col-auto\">\r\n                    <button className='btn' onClick={handlePictureUploud}>\r\n                        <i class=\"fas fa-camera fa-lg\"></i>\r\n                    </button>\r\n                </div>\r\n                <div class=\"col-auto\">\r\n                    <label  class=\"col-form-label\" style={{color:'#fff'}}>Agregar imagen</label>\r\n                </div>\r\n                <div class=\"col-auto\" style={{marginLeft:60}}>\r\n                    <button className='btn btn-success' onClick={handleSave}>\r\n                        Guardar\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useParams } from 'react-router'\r\nimport { Link } from 'react-router-dom';\r\nimport { activeNote, loadActiveNote } from '../../actions/notes';\r\n\r\nexport const DetalleArticulo = () => {\r\n    const { id } = useParams();\r\n    const dispatch = useDispatch();\r\n\r\n    const {img, titulo, desc} = useSelector(state => state.article.active);\r\n\r\n    useEffect(() => {\r\n        dispatch(loadActiveNote(id));\r\n    }, [])\r\n    \r\n    return (\r\n        <div className=\"col-lg-4 mb-4\">\r\n        <div className=\"card-detail\">\r\n          <img\r\n            src={img}\r\n            alt={`${titulo}`}\r\n            className=\"card-img-top\"\r\n          />\r\n          <div className=\"card-body row\">\r\n            <h5 className=\"card-title\">{titulo}</h5>\r\n            <p className=\"card-text\">{desc}</p>\r\n            <Link className=\"btn boton-azul blue-text w-100 align-self-end\" to='/article/modify' onClick={()=>dispatch(activeNote({titulo,img,id,desc}))}>\r\n              Modificar\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n","import { useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { activeNote, loadActiveNote } from \"../../actions/notes\";\r\n\r\nexport const Articulo = ({ titulo, img, id, desc }) => {\r\n  const dispatch = useDispatch();\r\n  \r\n\r\n  return (\r\n    <div className=\"col-lg-4 mb-4 h-300\">\r\n      <div className=\"card\">\r\n        <img\r\n          src={img}\r\n          alt={`${titulo}`}\r\n          className=\"card-img-top\"\r\n        />\r\n        <div className=\"card-body \">\r\n          <h5 className=\"card-title mb-5\">{titulo}</h5>\r\n          <Link to={`./article/${id}`} className=\"btn boton-azul blue-text w-100\" onClick={()=>dispatch(activeNote({titulo,img,id,desc}))}>\r\n            Ir al articulo\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Articulo } from \"./Articulo\";\r\n\r\n\r\n\r\nexport const HomeScreen = () => {\r\n  const {notes:articles} = useSelector(state => state.article)\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"container mt-5\">\r\n        <div className=\"row\">\r\n          {articles.length >= 1 ? (\r\n            articles.map((artic) => <Articulo key={artic.id} {...artic} />)\r\n          ) : (\r\n            <h2 style={{ color: \"red\" }}>No hay articulos</h2>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  );\r\n};\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Swal from 'sweetalert2';\r\nimport { activeNote, startLoadingNotes, startUpdateNote, startUploading } from '../../actions/notes';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nexport const ModificarArticulo = ({history}) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {active} = useSelector(state => state.article);\r\n    const {admin} = useSelector(state => state.auth);\r\n    const [formValues, handleInputChange] = useForm(active); \r\n\r\n    const {titulo, desc, img} = formValues;\r\n\r\n    const handleSave = () =>{\r\n        (admin)?dispatch(startUpdateNote(active)):Swal.fire('Error', 'Solo admins', 'error');\r\n        setTimeout(() => {\r\n            history.replace('/home');\r\n            dispatch(startLoadingNotes());\r\n        }, 1000);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        dispatch(activeNote({...formValues}))\r\n    }, [formValues, dispatch]);\r\n\r\n    // useEffect(() => {\r\n    //     dispatch(activeNote(active));\r\n    // }, [handleSave])\r\n\r\n    const handlePictureUploud = () =>{\r\n        document.querySelector('#fileSelector').click();\r\n    }\r\n\r\n    const handleFileChange = (e) =>{\r\n        const file = e.target.files[0];\r\n        if (file){\r\n            dispatch(startUploading(file));\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <img\r\n                src={img}\r\n                alt={`${titulo}`}\r\n                className=\"card-img-top mb-1\"\r\n            />\r\n            <input\r\n                type='text'\r\n                placeholder='Titulo del articulo'\r\n                className='form-control mb-3'\r\n                autoComplete='off'\r\n                value={titulo}\r\n                onChange={handleInputChange}\r\n                name='titulo'\r\n            />\r\n            <textarea placeholder='Descripción'\r\n            className='form-control' value={desc}\r\n            onChange={handleInputChange}\r\n            style={{minHeight:200}}\r\n            name='desc'>\r\n            </textarea>\r\n            <div className='mt-1 row align-items-center'>\r\n                <input name='file' id='fileSelector' type='file' style={{display: 'none'}} onChange={handleFileChange}/>\r\n                <div class=\"col-auto\">\r\n                    <button className='btn' onClick={handlePictureUploud}>\r\n                        <i class=\"fas fa-camera fa-lg\"></i>\r\n                    </button>\r\n                </div>\r\n                <div class=\"col-auto\">\r\n                    <label  class=\"col-form-label\" style={{color:'#fff'}}>Agregar imagen</label>\r\n                </div>\r\n                <div class=\"col-auto\" style={{marginLeft:50}}>\r\n                    <button className='btn btn-success' onClick={handleSave}>\r\n                        Modificar\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { unsetActiveNote } from \"../actions/notes\";\r\nimport { Navbar } from \"../components/ui/Navbar\";\r\nimport { CrearArticulo } from \"../components/wiki/CrearArticulo\";\r\nimport { DetalleArticulo } from \"../components/wiki/DetalleArticulo\";\r\nimport {HomeScreen} from '../components/wiki/HomeScreen';\r\nimport { ModificarArticulo } from \"../components/wiki/ModificarArticulo\";\r\n\r\nexport const DashboardRoutes = ({history}) => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if(!/^\\/article\\/\\w+$/.test(history.location.pathname)){\r\n      console.log('no estas en detalle')\r\n      dispatch(unsetActiveNote());\r\n    }\r\n  }, [history.location, dispatch])\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container mt-2\">\r\n        <Switch>\r\n          <Route exact path=\"/home\" component={HomeScreen} />\r\n          <Route exact path=\"/article/new\" component={CrearArticulo} />\r\n          <Route exact path=\"/article/modify\" component={ModificarArticulo} />\r\n          <Route exact path=\"/article/:id\" component={DetalleArticulo} />\r\n          <Redirect to=\"/home\" />\r\n        </Switch>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport { AuthRouter } from \"./AuthRouter\";\r\nimport { getAuth, onAuthStateChanged } from \"firebase/auth\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { login } from \"../actions/auth\";\r\nimport { PublicRoute } from \"./PublicRoute\";\r\nimport { PrivateRoute } from \"./PrivateRoute\";\r\nimport { startLoadingNotes } from \"../actions/notes\";\r\nimport { DashboardRoutes } from \"./DashboardRoutes\";\r\n\r\nexport const AppRouter = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [checking, setChecking] = useState(true);\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n//esto nos sirve para no perder el logueo ya que se encarga de verificar\r\n//si hay alguna cuenta logeada en firebase\r\n  useEffect(() => {\r\n    const auth = getAuth();\r\n    onAuthStateChanged(auth, (user)=>{\r\n      if(user?.uid){\r\n        (user.photoURL)?dispatch(login(user.uid, user.displayName, true)):dispatch(login(user.uid, user.displayName));\r\n        setIsLoggedIn(true);\r\n        dispatch(startLoadingNotes());\r\n      }\r\n      else{\r\n        setIsLoggedIn(false);\r\n      }\r\n      setChecking(false);\r\n    });\r\n  }, [dispatch, setChecking, setIsLoggedIn])\r\n\r\n  if( checking ){\r\n    return (\r\n    <div className='container-fluid d-flex flex-column justify-content-center align-items-center text-secondary' style={{height:'100vh'}}>\r\n        <div className=\"spinner-border \" style={{width: '6rem', height: '6rem'}} role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n    </div>\r\n\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <div>\r\n        <Switch>\r\n        <PublicRoute \r\n            path=\"/auth\"\r\n            component={ AuthRouter }\r\n            isAuthenticated={ isLoggedIn }\r\n        />\r\n\r\n        <PrivateRoute \r\n            isAuthenticated={ isLoggedIn }\r\n            path=\"/\"\r\n            component={ DashboardRoutes }\r\n        />\r\n\r\n        <Redirect to=\"/auth/login\" />\r\n        </Switch>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n","import { types } from \"../types/types\";\r\n\r\n\r\nconst initialState = {\r\n    loading: false,\r\n    msgError: null\r\n}\r\n\r\nexport const uiReducer = (state = initialState, action) =>{\r\n    switch (action.type) {\r\n        case types.uiSetError:\r\n            //como reescribir una propiedad de un objeto\r\n            return {\r\n                ...state,\r\n                msgError:action.payload\r\n            }\r\n\r\n        case types.uiRemoveError:\r\n            //como reescribir una propiedad de un objeto\r\n            return {\r\n                ...state,\r\n                msgError: null\r\n            }\r\n        case types.uiStartLoading:\r\n            //como reescribir una propiedad de un objeto\r\n            return {\r\n                ...state,\r\n                loading: true\r\n            }\r\n\r\n        case types.uiFinishLoading:\r\n            //como reescribir una propiedad de un objeto\r\n            return {\r\n                ...state,\r\n                loading: false\r\n            }\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n}","import { types } from \"../types/types\";\r\n\r\nconst initialState ={\r\n    notes: [],\r\n    active: null\r\n}\r\n\r\nexport const notesReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case types.articleAddNew:\r\n            return{\r\n                ...state,\r\n                notes: [action.payload, ...state.notes]\r\n            }\r\n\r\n        case types.articleActive:\r\n            return{\r\n                ...state,\r\n                active: {\r\n                    ...action.payload\r\n                }\r\n            }\r\n        \r\n        case types.articleUnsetActive:\r\n            return{\r\n                ...state,\r\n                active: null\r\n            }\r\n\r\n        case types.articleLoad:\r\n            return {\r\n                ...state,\r\n                notes: [...action.payload]\r\n            }\r\n\r\n        case types.articleUpdated:\r\n            return{\r\n                ...state,\r\n                notes: state.notes.map(\r\n                    note => \r\n                    note.id === action.payload.id ? action.payload.note : note)\r\n            }\r\n\r\n        case types.articleDelete:\r\n            return{\r\n                ...state,\r\n                active:null,\r\n                notes: state.notes.filter( note => note.id !== action.payload)\r\n            }\r\n        \r\n        case types.articleLogout:\r\n            return {\r\n                ...state,\r\n                notes: [],\r\n                active: null                \r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","import thunk from 'redux-thunk';\r\nimport  { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport { authReducer } from '../reducers/authReducer';\r\nimport { uiReducer } from '../reducers/uiReducer';\r\nimport { notesReducer } from '../reducers/notesReducer';\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\n\r\nconst reducers = combineReducers({\r\n    auth: authReducer,\r\n    ui: uiReducer,\r\n    article: notesReducer\r\n});\r\n\r\n\r\nexport const store = createStore(\r\n    reducers, \r\n    composeEnhancers(\r\n        applyMiddleware(thunk)\r\n    )\r\n    );\r\n","import { types } from \"../types/types\";\r\n\r\nexport const authReducer = (state = {}, action) =>{\r\n    switch(action.type){\r\n        case types.login:\r\n            return {\r\n                uid: action.payload.uid,\r\n                name: action.payload.displayName,\r\n                admin: action.payload.admin\r\n            };\r\n\r\n        case types.logout:\r\n            return {};\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from \"react\";\r\nimport { Provider } from \"react-redux\";\r\nimport { AppRouter } from \"./routers/AppRouter\";\r\nimport { store } from \"./store/store\";\r\n\r\nexport const WikiApp = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <AppRouter />\r\n    </Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { WikiApp } from \"./JournalApp\";\r\nimport './styles.css';\r\nimport \"./styles/styles.scss\";\r\n\r\n\r\nReactDOM.render(<WikiApp />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}